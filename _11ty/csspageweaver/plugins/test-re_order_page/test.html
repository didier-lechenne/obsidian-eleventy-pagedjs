<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Exemple - R√©ordonnancement de Pages PagedJS</title>
    
    <!-- PagedJS -->
    <script src="https://unpkg.com/pagedjs/dist/paged.polyfill.js"></script>
    
    <!-- Plugin de r√©ordonnancement -->
    <script src="page-reorder-plugin.js"></script>
    
    <style>
        /* === STYLES DE BASE === */
        body {
            font-family: Georgia, serif;
            line-height: 1.6;
            margin: 0;
            padding: 20px;
        }
        
        @page {
            size: A4;
            margin: 2cm;
            
            @bottom-center {
                content: "Page " counter(page);
            }
        }
        
        /* === STYLES DE CONTENU === */
        .chapter {
            page-break-before: always;
            margin-bottom: 2em;
        }
        
        .chapter h1 {
            color: #2c3e50;
            border-bottom: 2px solid #3498db;
            padding-bottom: 0.5em;
        }
        
        .chapter p {
            text-align: justify;
            margin-bottom: 1em;
        }
        
        /* === R√àGLES DE R√âORDONNANCEMENT CSS === */
        
        /* La conclusion (chapitre 4) doit appara√Ætre apr√®s la page 2 */
        .chapter-conclusion {
            --page-move-after: 2;
        }
        
        /* L'introduction (chapitre 1) doit rester en premi√®re position */
        .chapter-intro {
            --page-move-before: 1;
        }
        
        /* Le chapitre technique doit √™tre d√©plac√© en dernier */
        .chapter-technical {
            --page-move-after: 10;
        }
    </style>
</head>
<body>
    <!-- Configuration JavaScript alternative -->
    <script>
        window.PageReorderConfig = [
            {
                direction: 'after',
                selector: '.chapter-appendix',
                targetPage: 5
            }
        ];
    </script>

    <!-- === CONTENU DU DOCUMENT === -->
    
    <!-- Chapitre 1 : Introduction -->
    <section class="chapter chapter-intro" data-page-move-before="1">
        <h1>Chapitre 1 : Introduction</h1>
        <p>
            Ceci est le chapitre d'introduction de notre document. Il devrait normalement 
            appara√Ætre en premier, mais nous allons d√©montrer comment r√©organiser les pages.
        </p>
        <p>
            Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor 
            incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis 
            nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.
        </p>
        <p>
            Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore 
            eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, 
            sunt in culpa qui officia deserunt mollit anim id est laborum.
        </p>
    </section>

    <!-- Chapitre 2 : D√©veloppement -->
    <section class="chapter chapter-development">
        <h1>Chapitre 2 : D√©veloppement</h1>
        <p>
            Ce chapitre traite du d√©veloppement principal du sujet. Il contient les 
            informations essentielles et les arguments principaux.
        </p>
        <p>
            Sed ut perspiciatis unde omnis iste natus error sit voluptatem accusantium 
            doloremque laudantium, totam rem aperiam, eaque ipsa quae ab illo inventore 
            veritatis et quasi architecto beatae vitae dicta sunt explicabo.
        </p>
        <p>
            Nemo enim ipsam voluptatem quia voluptas sit aspernatur aut odit aut fugit, 
            sed quia consequuntur magni dolores eos qui ratione voluptatem sequi nesciunt.
        </p>
        <p>
            Neque porro quisquam est, qui dolorem ipsum quia dolor sit amet, consectetur, 
            adipisci velit, sed quia non numquam eius modi tempora incidunt ut labore et 
            dolore magnam aliquam quaerat voluptatem.
        </p>
    </section>

    <!-- Chapitre 3 : Analyse -->
    <section class="chapter chapter-analysis">
        <h1>Chapitre 3 : Analyse</h1>
        <p>
            Dans ce chapitre, nous analysons en d√©tail les diff√©rents aspects du sujet.
            Cette analyse nous permettra de tirer des conclusions importantes.
        </p>
        <p>
            Ut enim ad minima veniam, quis nostrum exercitationem ullam corporis suscipit 
            laboriosam, nisi ut aliquid ex ea commodi consequatur? Quis autem vel eum 
            iure reprehenderit qui in ea voluptate velit esse quam nihil molestiae 
            consequatur, vel illum qui dolorem eum fugiat quo voluptas nulla pariatur?
        </p>
        <p>
            At vero eos et accusamus et iusto odio dignissimos ducimus qui blanditiis 
            praesentium voluptatum deleniti atque corrupti quos dolores et quas molestias 
            excepturi sint occaecati cupiditate non provident.
        </p>
    </section>

    <!-- Chapitre 4 : Conclusion (sera d√©plac√© apr√®s page 2) -->
    <section class="chapter chapter-conclusion">
        <h1>Chapitre 4 : Conclusion</h1>
        <p>
            <strong>Note :</strong> Cette conclusion devrait normalement √™tre en derni√®re position, 
            mais gr√¢ce au plugin de r√©ordonnancement, elle appara√Ætra apr√®s la page 2.
        </p>
        <p>
            En conclusion, nous avons pu d√©montrer l'efficacit√© de notre approche et 
            les b√©n√©fices qu'elle apporte. Les r√©sultats obtenus d√©passent nos attentes 
            initiales.
        </p>
        <p>
            Cette d√©monstration du plugin de r√©ordonnancement montre comment on peut 
            facilement r√©organiser les pages d'un document PDF g√©n√©r√© avec PagedJS.
        </p>
    </section>

    <!-- Chapitre 5 : Aspects techniques (sera d√©plac√© en dernier) -->
    <section class="chapter chapter-technical">
        <h1>Chapitre 5 : Aspects Techniques</h1>
        <p>
            Ce chapitre technique sera automatiquement d√©plac√© en derni√®re position 
            gr√¢ce √† la r√®gle CSS <code>--page-move-after: 10</code>.
        </p>
        <p>
            Il contient des informations d√©taill√©es sur l'impl√©mentation technique, 
            les algorithmes utilis√©s et les sp√©cifications du syst√®me.
        </p>
        <p>
            Ces informations sont importantes mais peuvent √™tre consult√©es en annexe 
            pour ne pas interrompre le flux principal de lecture.
        </p>
    </section>

    <!-- Appendice (contr√¥l√© par JavaScript) -->
    <section class="chapter chapter-appendix" data-chapter="appendix">
        <h1>Appendice</h1>
        <p>
            Cet appendice sera repositionn√© gr√¢ce √† la configuration JavaScript 
            d√©finie dans <code>window.PageReorderConfig</code>.
        </p>
        <p>
            Il contient des informations suppl√©mentaires, des tableaux de donn√©es, 
            des r√©f√©rences et des ressources additionnelles.
        </p>
    </section>

    <!-- Instructions d'utilisation -->
    <section class="chapter chapter-instructions">
        <h1>Instructions d'utilisation</h1>
        
        <h2>1. M√©thode CSS (recommand√©e)</h2>
        <p>Utilisez les propri√©t√©s CSS personnalis√©es :</p>
        <pre style="background: #f4f4f4; padding: 1em; border-radius: 4px;">
.mon-chapitre {
    --page-move-after: 3;  /* D√©placer apr√®s la page 3 */
}

.autre-chapitre {
    --page-move-before: 1; /* D√©placer avant la page 1 */
}</pre>

        <h2>2. M√©thode HTML (data attributes)</h2>
        <p>Ajoutez des attributs data-* aux √©l√©ments :</p>
        <pre style="background: #f4f4f4; padding: 1em; border-radius: 4px;">
&lt;section class="chapter" data-page-move-after="2"&gt;
    &lt;h1&gt;Ce chapitre appara√Ætra apr√®s la page 2&lt;/h1&gt;
&lt;/section&gt;</pre>

        <h2>3. M√©thode JavaScript (configuration globale)</h2>
        <p>D√©finissez une configuration JavaScript :</p>
        <pre style="background: #f4f4f4; padding: 1em; border-radius: 4px;">
window.PageReorderConfig = [
    {
        direction: 'after',
        selector: '.conclusion',
        targetPage: 2
    }
];</pre>

        <h2>4. Interface utilisateur</h2>
        <p>
            Une fois le document rendu, une interface de glisser-d√©poser appara√Æt 
            dans le coin sup√©rieur droit permettant de r√©organiser interactivement 
            les pages et d'exporter la configuration.
        </p>
    </section>

    <!-- Script de d√©monstration -->
    <script>
        // Attendre que PagedJS soit pr√™t
        window.addEventListener('load', () => {
            console.log('üìñ Document charg√© - Le plugin de r√©ordonnancement est actif');
            
            // Afficher les r√®gles de r√©ordonnancement d√©tect√©es
            setTimeout(() => {
                console.log('üîÑ V√©rifiez l\'interface de r√©ordonnancement dans le coin sup√©rieur droit');
            }, 2000);
        });
    </script>
</body>
</html>